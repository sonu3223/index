{
  "name": "zomato-banda-frontend",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev -p 3000",
    "build": "next build",
    "start": "next start -p 3000",
    "lint": "next lint"
  },
  "dependencies": {
    "@reduxjs/toolkit": "^1.9.5",
    "axios": "^1.4.0",
    "next": "14.2.0",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "react-redux": "^8.1.1"
  },
  "devDependencies": {
    "autoprefixer": "^10.4.14",
    "postcss": "^8.4.24",
    "tailwindcss": "^3.4.7",
    "typescript": "^5.4.2"
  }
}
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": false,
    "skipLibCheck": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "types": ["node"]
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx"],
  "exclude": ["node_modules"]
}
/** @type {import('next').NextConfig} */
const nextConfig = {
  reactStrictMode: true,
  images: {
    domains: ["images.unsplash.com", "res.cloudinary.com", "via.placeholder.com"]
  }
};
module.exports = nextConfig;
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    "./pages/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}"
  ],
  theme: { extend: {} },
  plugins: []
};
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {}
  }
};
@tailwind base;
@tailwind components;
@tailwind utilities;

html,body,#__next{ height:100% }
body{ @apply bg-gray-50 text-gray-800; }
.container { @apply max-w-6xl mx-auto px-4; }
.card { @apply bg-white rounded-lg shadow p-4; }
.btn { @apply inline-block bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600; }
import '../styles/globals.css';
import type { AppProps } from 'next/app';
import { Provider } from 'react-redux';
import { store } from '../store';
import Header from '../components/Header';
import Footer from '../components/Footer';

export default function App({ Component, pageProps }: AppProps) {
  return (
    <Provider store={store}>
      <div className="min-h-screen flex flex-col">
        <Header />
        <main className="flex-1 container py-8">
          <Component {...pageProps} />
        </main>
        <Footer />
      </div>
    </Provider>
  );
}
import axios from 'axios';

const API = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api',
  headers: { 'Content-Type': 'application/json' }
});

API.interceptors.request.use((config) => {
  const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;
  if (token && config.headers) config.headers['Authorization'] = `Bearer ${token}`;
  return config;
});

export default API;
NEXT_PUBLIC_API_URL=http://localhost:5000/api
{
  "name": "zomato-banda-backend",
  "version": "1.0.0",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "seed": "node scripts/seed.js"
  },
  "dependencies": {
    "apollo-server-express": "^3.11.1",
    "bcryptjs": "^2.4.3",
    "cors": "^2.8.5",
    "dotenv": "^16.0.3",
    "express": "^4.18.2",
    "graphql": "^16.6.0",
    "jsonwebtoken": "^9.0.0",
    "mongoose": "^7.3.1",
    "morgan": "^1.10.0"
  },
  "devDependencies": { "nodemon": "^2.0.22" }
}
PORT=5000
MONGO_URI=mongodb://localhost:27017/zomato_banda
JWT_SECRET=change_this_long_secret
ML_SERVICE_URL=http://localhost:5001
const mongoose = require('mongoose');

const connectDB = async (mongoURI) => {
  try {
    await mongoose.connect(mongoURI, { useNewUrlParser: true, useUnifiedTopology: true });
    console.log('MongoDB connected');
  } catch (err) {
    console.error('MongoDB connection error:', err.message);
    process.exit(1);
  }
};

module.exports = connectDB;
require('dotenv').config();
const express = require('express');
const morgan = require('morgan');
const cors = require('cors');
const connectDB = require('./config/db');
const { ApolloServer } = require('apollo-server-express');
const typeDefs = require('./graphql/schema');
const resolvers = require('./graphql/resolvers');

const app = express();
app.use(cors());
app.use(express.json());
app.use(morgan('dev'));

connectDB(process.env.MONGO_URI || 'mongodb://localhost:27017/zomato_banda');

// REST routes
app.use('/api/auth', require('./routes/auth'));
app.use('/api/restaurants', require('./routes/restaurants'));
app.use('/api/menus', require('./routes/menus'));
app.use('/api/reviews', require('./routes/reviews'));

// GraphQL
async function startApollo() {
  const server = new ApolloServer({ typeDefs, resolvers });
  await server.start();
  server.applyMiddleware({ app, path: '/graphql' });
}
startApollo();

app.get('/', (req, res) => res.send('Zomato Banda API running'));

const PORT = process.env.PORT || 5000;
app.listen(PORT, () => console.log(`Server running on port ${PORT}`));
require('dotenv').config();
const mongoose = require('mongoose');
const connectDB = require('../config/db');
const Restaurant = require('../models/Restaurant');
const MenuItem = require('../models/MenuItem');
const User = require('../models/User');
const bcrypt = require('bcryptjs');

async function seed() {
  await connectDB(process.env.MONGO_URI);

  await Restaurant.deleteMany({});
  await MenuItem.deleteMany({});
  await User.deleteMany({});

  const restaurants = [
    {
      name: 'Banda Sweets & Restaurant',
      address: 'Main Road, Banda',
      area: 'Central Banda',
      cuisine: ['North Indian', 'Sweets'],
      avgCostForTwo: 300,
      images: ['https://via.placeholder.com/600x400?text=Banda+Sweets'],
      location: { type: 'Point', coordinates: [80.33, 25.48] }
    },
    {
      name: 'The Spice House',
      address: 'Market Road, Banda',
      area: 'Old Town',
      cuisine: ['Chinese', 'Fast Food'],
      avgCostForTwo: 400,
      images: ['https://via.placeholder.com/600x400?text=Spice+House'],
      location: { type: 'Point', coordinates: [80.34, 25.49] }
    }
  ];

  const savedRestaurants = await Restaurant.insertMany(restaurants);

  const menuItems = [
    { name: 'Paneer Butter Masala', price: 150, restaurant: savedRestaurants[0]._id },
    { name: 'Gulab Jamun', price: 50, restaurant: savedRestaurants[0]._id },
    { name: 'Noodles', price: 120, restaurant: savedRestaurants[1]._id },
    { name: 'Spring Roll', price: 80, restaurant: savedRestaurants[1]._id }
  ];
  await MenuItem.insertMany(menuItems);

  const hashedPassword = await bcrypt.hash('admin123', 10);
  await User.create({ name: 'Admin', email: 'admin@zomato.com', password: hashedPassword, role: 'admin' });

  console.log('Database seeded successfully');
  process.exit();
}

seed();
version: '3.8'
services:
  mongo:
    image: mongo:7.0
    container_name: mongo
    ports:
      - "27017:27017"
    volumes:
      - mongo-data:/data/db

  backend:
    build: ./backend
    container_name: zomato-backend
    ports:
      - "5000:5000"
    env_file:
      - ./backend/.env
    depends_on:
      - mongo

  frontend:
    build: ./frontend
    container_name: zomato-frontend
    ports:
      - "3000:3000"
    env_file:
      - ./frontend/.env.local
    depends_on:
      - backend

volumes:
  mongo-data:
